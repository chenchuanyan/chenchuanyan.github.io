<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>天涯博客（陈传焱）</title>
  
  <subtitle>曾经梦想，走天涯</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="seayxu.github.io/"/>
  <updated>2018-08-15T14:10:00.413Z</updated>
  <id>seayxu.github.io/</id>
  
  <author>
    <name>jhon chen</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>shell脚本初识</title>
    <link href="seayxu.github.io/2018/08/15/title/"/>
    <id>seayxu.github.io/2018/08/15/title/</id>
    <published>2018-08-15T13:14:11.000Z</published>
    <updated>2018-08-15T14:10:00.413Z</updated>
    
    <content type="html"><![CDATA[<p> 终端打印、算术运算、常用变量s</p><ul><li>终端打印<ul><li><a href="http://man.linuxde.net/shell-script/shell-1#echo" target="_blank" rel="noopener">echo</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#printf" target="_blank" rel="noopener">printf</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#在echo中转义换行符" target="_blank" rel="noopener">在echo中转义换行符</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#打印彩色输出" target="_blank" rel="noopener">打印彩色输出</a></li></ul></li><li>算术运算<ul><li><a href="http://man.linuxde.net/shell-script/shell-1#整数运算" target="_blank" rel="noopener">整数运算</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#精密计算" target="_blank" rel="noopener">精密计算</a></li></ul></li><li>常用变量<ul><li><a href="http://man.linuxde.net/shell-script/shell-1#用户自定义变量" target="_blank" rel="noopener">用户自定义变量</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#环境变量" target="_blank" rel="noopener">环境变量</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#位置变量" target="_blank" rel="noopener">位置变量</a></li><li><a href="http://man.linuxde.net/shell-script/shell-1#预定义变量" target="_blank" rel="noopener">预定义变量</a></li></ul></li></ul><p><code>#!</code>称为 <a href="http://zh.wikipedia.org/zh-hant/Shebang" target="_blank" rel="noopener">shebang</a></p><p><code>cmd1 ; cmd2</code>执行cmd1后在执行cmd2</p><h2 id="终端打印"><a href="#终端打印" class="headerlink" title="终端打印"></a>终端打印</h2><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo hello world</span><br><span class="line">echo &apos;hello world&apos;</span><br><span class="line">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure><p>bash不会对单引号内变量（如<code>$var</code>）求值。</p><h3 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">printf &quot;hello world&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">printf &quot;%-5s %-10s %-4s\n&quot; NO Name Mark</span><br><span class="line">printf &quot;%-5s %-10s %-4.2f\n&quot; 01 Tom 90.3456</span><br><span class="line">printf &quot;%-5s %-10s %-4.2f\n&quot; 02 Jack 89.2345</span><br><span class="line">printf &quot;%-5s %-10s %-4.2f\n&quot; 03 Jeff 98.4323</span><br></pre></td></tr></table></figure><ul><li>%-5s 格式为左对齐且宽度为5的字符串代替（-表示左对齐），不使用则是又对齐。</li><li>%-4.2f 格式为左对齐宽度为4，保留两位小数。</li></ul><p><strong>格式替代符</strong></p><ul><li>%b 相对应的参数被视为含有要被处理的转义序列之字符串。</li><li>%c ASCII字符。显示相对应参数的第一个字符</li><li>%d, %i 十进制整数</li><li>%e, %E, %f 浮点格式</li><li>%g %e或%f转换，看哪一个较短，则删除结尾的零</li><li>%G %E或%f转换，看哪一个较短，则删除结尾的零</li><li>%o 不带正负号的八进制值</li><li>%s 字符串</li><li>%u 不带正负号的十进制值</li><li>%x 不带正负号的十六进制值，使用a至f表示10至15</li><li>%X 不带正负号的十六进制值，使用A至F表示10至15</li><li>%% 字面意义的%</li></ul><p><strong>转义序列</strong></p><ul><li>\a 警告字符，通常为ASCII的BEL字符</li><li>\b 后退</li><li>\c 抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</li><li>\f 换页（formfeed）</li><li>\n 换行</li><li>\r 回车（Carriage return）</li><li>\t 水平制表符</li><li>\v 垂直制表符</li><li>\ 一个字面上的反斜杠字符</li><li>\ddd 表示1到3位数八进制值的字符，仅在格式字符串中有效</li><li>\0ddd 表示1到3位的八进制值字符</li></ul><h3 id="在echo中转义换行符"><a href="#在echo中转义换行符" class="headerlink" title="在echo中转义换行符"></a>在echo中转义换行符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;包含转义序列的字符串&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;1\t2\t3&quot;</span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure><h3 id="打印彩色输出"><a href="#打印彩色输出" class="headerlink" title="打印彩色输出"></a>打印彩色输出</h3><p><strong>文字色</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;\e[1;31mThis is red text\e[0m&quot;</span><br><span class="line">This is red text</span><br></pre></td></tr></table></figure><ul><li>\e[1;31m 将颜色设置为红色</li><li>\e[0m 将颜色重新置回</li></ul><p>颜色码：重置=0，黑色=30，红色=31，绿色=32，黄色=33，蓝色=34，洋红=35，青色=36，白色=37</p><p><strong>背景色</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;\e[1;42mGreed Background\e[0m&quot;</span><br><span class="line">Greed Background</span><br></pre></td></tr></table></figure><p>颜色码：重置=0，黑色=40，红色=41，绿色=42，黄色=43，蓝色=44，洋红=45，青色=46，白色=47</p><p><strong>文字闪动</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;\033[37;31;5mMySQL Server Stop...\033[39;49;0m&quot;</span><br></pre></td></tr></table></figure><p>红色数字处还有其他数字参数：<strong>0</strong> 关闭所有属性、<strong>1</strong> 设置高亮度（加粗）、<strong>4</strong> 下划线、<strong>5</strong> 闪烁、<strong>7</strong> 反显、<strong>8</strong> 消隐</p><h2 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h2><h3 id="整数运算"><a href="#整数运算" class="headerlink" title="整数运算"></a>整数运算</h3><p><strong>let运算命令</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">no1=2;</span><br><span class="line">no2=3;</span><br><span class="line">let result=no1+no2</span><br><span class="line">echo $result</span><br></pre></td></tr></table></figure><ul><li>自加操作<code>let no++</code></li><li>自减操作<code>let no--</code></li><li>简写形式<code>let no+=10let no-=20</code>分别等同于<code>let no=no+10let no=no-20</code></li></ul><p><strong>操作符[]运算方法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">no1=2;</span><br><span class="line">no2=3;</span><br><span class="line">result=$[$no1+no2]</span><br><span class="line">echo $result</span><br></pre></td></tr></table></figure><p>使用方法和let相似，在<code>[]</code>中可以使<code>$</code>前缀。</p><p><strong>(())运算方法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">no1=2;</span><br><span class="line">no2=3;</span><br><span class="line">result=$((no1+no2))</span><br><span class="line">echo $result</span><br></pre></td></tr></table></figure><p><strong>expr运算方法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result=`expr 2 + 3`</span><br><span class="line">result=$(expr $no1 + 5)</span><br></pre></td></tr></table></figure><p><strong>expr的常用运算符</strong></p><ul><li>加法运算：+</li><li>减法运算：-</li><li>乘法运算：*</li><li>除法运算：/</li><li>求摸（取余）运算：%</li></ul><h3 id="精密计算"><a href="#精密计算" class="headerlink" title="精密计算"></a>精密计算</h3><p>算术操作高级运算工具：<a href="http://man.linuxde.net/bc" target="_blank" rel="noopener">bc</a>，它可以执行浮点运算和一些高级函数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;1.212*3&quot; | bc </span><br><span class="line">3.636</span><br></pre></td></tr></table></figure><p>设定小数精度（数值范围）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;scale=2;3/8&quot; | bc</span><br><span class="line">0.37</span><br></pre></td></tr></table></figure><p>参数<strong>scale=2</strong>是将bc输出结果的小数位设置为2位。</p><p><strong>进制转换</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">abc=192</span><br><span class="line">echo &quot;obase=2;$abc&quot; | bc</span><br></pre></td></tr></table></figure><p>执行结果为：11000000，这是用bc将十进制转换成二进制。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">abc=11000000</span><br><span class="line">echo &quot;obase=10;ibase=2;$abc&quot; | bc</span><br></pre></td></tr></table></figure><p>执行结果为：192，这是用bc将二进制转换为十进制。</p><p><strong>计算平方和平方根</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;10^10&quot; | bc</span><br><span class="line">echo &quot;sqrt(100)&quot; | bc</span><br></pre></td></tr></table></figure><h2 id="常用变量"><a href="#常用变量" class="headerlink" title="常用变量"></a>常用变量</h2><p>结合不同的引导为变量赋值</p><ul><li>双引号 “” ：允许通过$符号引用其他变量值</li><li>单引号 ‘’ ：禁止引用其他变量值，$视为普通字符</li><li>反撇号 <code></code> ：将命令执行的结果输出给变量</li></ul><h3 id="用户自定义变量"><a href="#用户自定义变量" class="headerlink" title="用户自定义变量"></a>用户自定义变量</h3><p>设置变量的作用范围</p><p>格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export 变量名...</span><br><span class="line">export 变量名=变量值 [...变量名n=变量值n]</span><br></pre></td></tr></table></figure><p>清除用户自定义变量</p><p>格式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset 变量名</span><br></pre></td></tr></table></figure><h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>环境变量配置文件</p><ul><li>全局配置文件：/etc/profile</li><li>用户配置文件：~/.bash_profile</li></ul><p>查看环境变量</p><p><a href="http://man.linuxde.net/set" target="_blank" rel="noopener">set</a>命令可以查看所有的<a href="http://www.1987.name/shell" target="_blank" rel="noopener">shell</a>变量，其中包括环境变量</p><p>常见的环境变量</p><ul><li>$USER 查看账户信息</li><li>$<a href="http://man.linuxde.net/logname" target="_blank" rel="noopener">logname</a> 登录相关信息</li><li>$UID</li><li>$<a href="http://www.1987.name/shell" target="_blank" rel="noopener">Shell</a></li><li>$HOME 家目录</li><li>$<a href="http://man.linuxde.net/pwd" target="_blank" rel="noopener">pwd</a></li><li>$PATH 用户所输入的命令是在哪些目录中查找</li><li>$PS1</li><li>$PS2</li><li>$RANDOM 随机数</li></ul><h3 id="位置变量"><a href="#位置变量" class="headerlink" title="位置变量"></a>位置变量</h3><p>表示为：$n （n为1~9之间的数字）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#./test.sh one two three four five six</span><br></pre></td></tr></table></figure><ul><li>$0 表示文件名本身</li><li>one就是：$1</li><li>two就是：$2</li></ul><h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><ul><li>$# ：命令行中位置参数的个数</li><li>$* ：所有位置参数的内容</li><li>$? ：上一条命令执行后返回的状态，当返回状态值为0时表示执行正常，非0表示执行异常或出错</li><li>$$ ：当前所在进程的进程号</li><li>$! ：后台运行的最后一个进程号</li><li>$0 ：当前执行的进程/程序名</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt; 终端打印、算术运算、常用变量s&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;终端打印&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://man.linuxde.net/shell-script/shell-1#echo&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;echo
      
    
    </summary>
    
    
      <category term="shell" scheme="seayxu.github.io/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="seayxu.github.io/2018/08/15/hello-world/"/>
    <id>seayxu.github.io/2018/08/15/hello-world/</id>
    <published>2018-08-15T05:53:26.426Z</published>
    <updated>2018-08-15T11:42:45.320Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
